<!doctype html>
<html lang="en">

<head>
  <!-- Required meta tags -->
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <!-- Bootstrap CSS -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.3.1/dist/css/bootstrap.min.css"
    integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
  <link rel="stylesheet" href="./styles.css">
  <title>StudentLogin</title>
  <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
  <script>
    async function login() {

      let url = 'http://localhost:8002/student/signin/'
      var sinputEmail = document.getElementById("inputEmail").value;
      var sinputPwd = document.getElementById("inputPassword").value;

      await axios
        .post(
          url, {
          email: sinputEmail,
          password: sinputPwd
        }
        )
        .then((res) => {
          console.log(res); console.log(res.data);
          if (res.data == "valid") {
            window.location.assign("./StudentDashboard.html");
          } else {
            console.log("Incorrect email or password. Try again!");
          }
        })
        .catch((err) => { console.error(err) })
    }
  </script>
</head>

<body>

  <body>
    <nav class="navbar navbar-expand-lg navbar-dark bg-success">
      <a class="navbar-brand" href="./Dashboard.html">EventBuddy</a>
      <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNavAltMarkup"
        aria-controls="navbarNavAltMarkup" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
      </button>
      <div class="collapse navbar-collapse" id="navbarNavAltMarkup">
        <div class="navbar-nav">
          <a class="nav-item nav-link active" href="./Dashboard.html">Home <span class="sr-only">(current)</span></a>
          <a class="nav-item nav-link" href="./AdminLogin.html">Admin</a>
          <a class="nav-item nav-link" href="#">Student</a>
        </div>
      </div>
    </nav>
    <!-- <div class="alert alert-danger alert-dismissible fade show" role="alert">
          <strong>You require Admin Access</strong> Please Switch to student panel if not admin.
          <button type="button" class="close" data-dismiss="alert" aria-label="Close">
            <span aria-hidden="true">&times;</span>
          </button> -->
    <!-- </div> -->
    <div class="container">

      <body>
        <form class="form-signin">
          <div class="text-center mb-4 my-4">
            <h1 class="h3 mb-3 font-weight-normal" style="color:#de5499;">Hello Student!</h1>
          </div>

          <div class="form-label-group my-4">
            <input type="email" id="inputEmail" class="form-control" placeholder="Email address" required=""
              autofocus="">
            <label for="inputEmail" style="color:#de5499;">Email address</label>
          </div>

          <div class="form-label-group my-4">
            <input type="password" id="inputPassword" class="form-control" placeholder="Password" required="">
            <label for="inputPassword" style="color:#de5499;">Password</label>
          </div>

          <div class="checkbox mb-3 my-4">
            <label>
              <input type="checkbox" value="remember-me"> Remember me
            </label>
          </div>
          <button class="btn btn-lg btn-success btn-block rounded-pill" type="submit" style="background-color: #de5499"
            onclick="login()">Sign in</button>
        </form>
    </div>

  </body>


  <!-- Optional JavaScript -->
  <!-- jQuery first, then Popper.js, then Bootstrap JS -->
  <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js"
    integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo"
    crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/popper.js@1.14.7/dist/umd/popper.min.js"
    integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1"
    crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.3.1/dist/js/bootstrap.min.js"
    integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM"
    crossorigin="anonymous"></script>
</body>

</html>