<!doctype html>
<html lang="en">

<head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.4.1/dist/css/bootstrap.min.css"
        integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">
    <link rel="stylesheet" href="./styles.css">
    <title>Students Registered</title>
</head>
<script>
    async function getStudents() {
        // const queryString = window.location.search;
        // console.log(queryString);
        // const urlParams = new URLSearchParams(queryString);
        // const eveId = urlParams.get("eveId");
        //console.log(eveId);
        
    }


    async function getEventDetails() {
        const queryString = window.location.search;
        console.log(queryString);
        const urlParams = new URLSearchParams(queryString);
        const eveId = urlParams.get("eveId");
        console.log(eveId);
        let url = `http://localhost:8001/events/${eveId}`;
        try {
            let res = await fetch(url);
            return await res.json();
        } catch (error) {
            console.log(error);
        }
    }

    async function displayEventDetails() {
        let events = await getEventDetails();
        let html = "";
        console.log(events.stuId);
        events.stuId.forEach(student => {
            localStorage.setItem("studentid",student);
            let stuId = localStorage.getItem("studentid");
            let url = ` http://localhost:8002/student/${stuId}`;
        try {
            let res =  fetch(url);
            console.log(res.data);
            // return res.json();
        } catch (error) {
            console.log(error);
        }

        })
}

displayEventDetails();



</script>
<body>
    <div id="event-details">
        <h1 style="color:#de5499">Students Registered for this Event</h1>
        <div id="student-list" class="container">
            <div class="container">
                <div class="card text-bg-dark bg-success mb-3 mt-5" style="max-width: auto;">
                    <div class="card-header">Students Details</div>
                    <div class="card-body">
                        <!-- <div class="container pt-5 pb-5">
                    <div class="row gutters">
                        <div class="col-xl-3 col-lg-3 col-md-12 col-sm-12 col-12">
                            <div class="card text-white h-100">
                                <div class="card-body">
                                    <div class="account-settings">
                                        <div class="user-profile">
                                            <h5 class="user-name">Doctor Name</h5>
                                            <h6 class="user-email">Doctor Designation</h6>
                                        </div>
                                        <div class="about">
                                            <h5 class="text-white">Department</h5>
                                            <p>Lorem ipsum, dolor sit amet consectetur adipisicing elit. Deleniti assumenda velit possimus beatae reiciendis ex veritatis tempore fugit eius sequi. Tenetur adipisci cum placeat quaerat molestiae provident voluptas eligendi error!   </p>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div> -->
                        <div class="col-xl-9 col-lg-9 col-md-12 col-sm-12 col-12">
                            <div class="card text-black h-100">
                                <div class="card-body p-5">
                                    <div class="row gutters">
                                        <dl class="row">
                                            <dt class="col-sm-3">Student Name :</dt>
                                            <dd class="col-sm-9">Rohann Singh</dd>

                                            <dt class="col-sm-3">Student Department :</dt>
                                            <dd class="col-sm-9">
                                                <p>IT</p>
                                            </dd>

                                            <dt class="col-sm-3">Student Division:</dt>
                                            <dd class="col-sm-9">A</dd>


                                            </dd>
                                        </dl>
                                    </div>

                                </div>

                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    </div>
    </div>
    </div>
    </div>
    </div>

    <!-- Optional JavaScript -->
    <!-- jQuery first, then Popper.js, then Bootstrap JS -->
    <script src="https://code.jquery.com/jquery-3.4.1.slim.min.js"
        integrity="sha384-J6qa4849blE2+poT4WnyKhv5vZF5SrPo0iEjwBvKU7imGFAV0wwj1yYfoRSJoZ+n"
        crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js"
        integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo"
        crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.4.1/dist/js/bootstrap.min.js"
        integrity="sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6"
        crossorigin="anonymous"></script>
</body>

</html>